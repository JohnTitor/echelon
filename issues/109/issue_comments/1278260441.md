---
author_association: OWNER
created_at: '2022-10-13T22:54:15Z'
html_url: https://github.com/JohnTitor/times-huyuumi/issues/109#issuecomment-1278260441
id: 1278260441
issue_url: https://api.github.com/repos/JohnTitor/times-huyuumi/issues/109
node_id: IC_kwDOHWEcT85MMLTZ
performed_via_github_app: 
reactions:
  "+1": 0
  "-1": 0
  confused: 0
  eyes: 0
  heart: 0
  hooray: 0
  laugh: 0
  rocket: 0
  total_count: 0
  url: https://api.github.com/repos/JohnTitor/times-huyuumi/issues/comments/1278260441/reactions
updated_at: '2022-10-13T22:54:15Z'
url: https://api.github.com/repos/JohnTitor/times-huyuumi/issues/comments/1278260441
user:
  avatar_url: https://avatars.githubusercontent.com/u/25030997?v=4
  events_url: https://api.github.com/users/JohnTitor/events{/privacy}
  followers_url: https://api.github.com/users/JohnTitor/followers
  following_url: https://api.github.com/users/JohnTitor/following{/other_user}
  gists_url: https://api.github.com/users/JohnTitor/gists{/gist_id}
  gravatar_id: ''
  html_url: https://github.com/JohnTitor
  id: 25030997
  login: JohnTitor
  node_id: MDQ6VXNlcjI1MDMwOTk3
  organizations_url: https://api.github.com/users/JohnTitor/orgs
  received_events_url: https://api.github.com/users/JohnTitor/received_events
  repos_url: https://api.github.com/users/JohnTitor/repos
  site_admin: false
  starred_url: https://api.github.com/users/JohnTitor/starred{/owner}{/repo}
  subscriptions_url: https://api.github.com/users/JohnTitor/subscriptions
  type: User
  url: https://api.github.com/users/JohnTitor

---
ctest2 を Ubuntu 22.04 で動かすようにしたら下記のエラーが出るようになった:

```
error: could not compile `testcrate` due to previous error
warning: build failed, waiting for other jobs to finish...
error: linking with `cc` failed: exit status: 1
  |
  = note: "cc" "-m64" "/tmp/rustcCZ2hXI/symbols.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.18mywkt3d4h515zs.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1d1gbaxx4rg49vbk.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1eqyaoamn3jo7vfj.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1fykttgmx59ikokk.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1gcpr3z6afyqjs74.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1l5yp1g3jj2jy5bd.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1mrbqkn288cmc1qs.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1ok8qudrohhaqocm.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1qq6z3ra2x3ofnbs.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1siuajpq29jfuzag.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1tmnyahvbudtxhm2.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1x8hakvhijdyoyux.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.20xecbjcsh5n4mye.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.25875o6dgns5wb8m.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.25rkcvghnnv16bl9.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.28yymgfvgrg79atm.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.2b4r2i7ix6609wcc.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.2ikootra5g0es717.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.2mxt07fas8rlm4xk.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.2o3juxqfdu9f5skc.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.2p14gd28q17o5z9p.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.2si2alhnvwas6ieo.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.2w5yqtptw93cbb8e.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.2yv7p5xvrkcu53uw.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.2zgn3bxfcsw285f5.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.31c0uijjhg9lriyd.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.33tvwzho8e1xdpmw.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.34b27menq29pm5jn.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.37zg08vyp2sulaxk.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.3hq5o6r4xmvltct8.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.3ktwxretbab9d1qz.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.3lm1d3bo9is5azjc.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.3rgr1kczctpzh488.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.3tx02yf27rjmhdub.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.3vebnxab5oksbfgw.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.3x4pn75xku4698fp.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.3z4gwj9gcylzxv0q.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.458hi8ke748ei3fy.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.46bkcyg3ykjuwjm4.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.497w46j5sh0lp7fs.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.49e8zp7ubffoeies.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.4hue4fqjxro9h19.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.4kp9y7bguyd2sqap.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.4lqukl3r6q8liie2.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.4mps9j6xiendwzta.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.4wv110qn1rmh638i.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.4zye6syc16jbc2ha.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.50vcce4dmov1sxej.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.5303jys2xpe0csg6.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.53wbhdc90c69xpaf.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.53y8r5i7i9qpzlv5.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.58hxi5fqgl3966dm.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.5d2cwt4wuenm968x.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.5d7qvo2o6e1bv9ce.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.6zxmaas5abzp09t.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.9sn5maqusy2ca6b.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.9tsg2qhawlh6x2o.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.hzfvbtkbzmfl44a.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.k5f6lnxw98p08re.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.la8xafkmi0g8e1k.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.ozkhdh9hqykror2.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.tldz0j37d3f0p0p.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.zmevim0vejq98j3.rcgu.o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9.1owklwvnb2d52hiw.rcgu.o" "-Wl,--as-needed" "-L" "/home/runner/work/ctest2/ctest2/target/debug/deps" "-L" "/home/runner/work/ctest2/ctest2/target/debug/build/testcrate-3de52bf284381420/out" "-L" "/home/runner/work/ctest2/ctest2/target/debug/build/testcrate-3de52bf284381420/out" "-L" "/home/runner/work/ctest2/ctest2/target/debug/build/testcrate-3de52bf284381420/out" "-L" "/home/runner/work/ctest2/ctest2/target/debug/build/testcrate-3de52bf284381420/out" "-L" "/home/runner/work/ctest2/ctest2/target/debug/build/testcrate-3de52bf284381420/out" "-L" "/home/runner/work/ctest2/ctest2/target/debug/build/testcrate-3de52bf284381420/out" "-L" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib" "-Wl,-Bstatic" "/home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib" "/home/runner/work/ctest2/ctest2/target/debug/deps/liblibc-9f42add3d53c8284.rlib" "-Wl,--start-group" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd-5670385a2fe8b60b.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libpanic_unwind-fd56ba6dbf7aaecc.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libobject-b8acf8e5c2e85baa.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libmemchr-1706edefffdca0a2.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libaddr2line-f483302e0b13708e.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libgimli-725b0718fc18e1ed.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_demangle-de685fcf2157e6fb.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libstd_detect-f613ac3eda05b9ff.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libhashbrown-3de98a7d049af6a1.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libminiz_oxide-c12183655bdce152.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libadler-0fc7beea925de7e3.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_alloc-8c34825485bf59dc.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libunwind-ba5f7e926e729d81.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcfg_if-643de0950163a839.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/liblibc-539ea2f72ef89687.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/liballoc-871432094bb4c885.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/librustc_std_workspace_core-ef1a8ee61f2e39bf.rlib" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcore-f1646747442c1c7b.rlib" "-Wl,--end-group" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib/libcompiler_builtins-ff283b4bf550fa1c.rlib" "-Wl,-Bdynamic" "-lstdc++" "-lgcc_s" "-lutil" "-lrt" "-lpthread" "-lm" "-ldl" "-lc" "-Wl,--eh-frame-hdr" "-Wl,-znoexecstack" "-L" "/home/runner/.rustup/toolchains/stable-x86_64-unknown-linux-gnu/lib/rustlib/x86_64-unknown-linux-gnu/lib" "-o" "/home/runner/work/ctest2/ctest2/target/debug/deps/t1-65d5a8236da74ce9" "-Wl,--gc-sections" "-pie" "-Wl,-zrelro,-znow" "-nodefaultlibs"
  = note: /usr/bin/ld: /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1gen.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:65: multiple definition of `T1_static_mut_u8'; /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:65: first defined here
          /usr/bin/ld: /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1gen.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:66: multiple definition of `T1_static_mut_fn_ptr'; /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:66: first defined here
          /usr/bin/ld: /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1gen.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:72: multiple definition of `T1_static_right2'; /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:72: first defined here
          /usr/bin/ld: /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1gen.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:77: multiple definition of `T1_fn_ptr_s'; /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:77: first defined here
          /usr/bin/ld: /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1gen.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:82: multiple definition of `T1_fn_ptr_s2'; /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:82: first defined here
          /usr/bin/ld: /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1gen.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:101: multiple definition of `T1_opt_fn2'; /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:101: first defined here
          /usr/bin/ld: /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1gen.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:102: multiple definition of `T1_opt_fn3'; /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:102: first defined here
          /usr/bin/ld: /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1gen.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:157: multiple definition of `T1_fn_ptr_vol'; /home/runner/work/ctest2/ctest2/target/debug/deps/libtestcrate-e0b72bb35e4f5015.rlib(t1.o):/home/runner/work/ctest2/ctest2/testcrate/src/t1.h:157: first defined here
          collect2: error: ld returned 1 exit status
```

これは windows-gnu やローカルでも再現していて、かつ Ubuntu 20.04 では起きていなかったことから、新しめの GCC まわりの影響ではないかと勘繰っている。ただそこまでしかわからず、ひとまず無視することにした。早朝からハード。